<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>

	<title>Cadastro Usuario</title>

</h:head>


<h:body>

    <ui:include src="/menu.xhtml"></ui:include>
     
     
	<h:form id="formPessoa">
	
	<h:messages/>
	
	   <h:graphicImage height="80" width="80" library="img" name="imagemjv.png" />
	
	   <h1>Cadastro de Usuario</h1>
	   
	    <h:panelGrid columns="2">
	    <h:outputLabel value="ID"/>
	    <h:inputText id="campoId" value="#{pessoaBean.pessoa.id}" readonly="true"></h:inputText>
	    
	    <h:outputLabel value="NOME"/>
		<h:inputText id="campoNome" value="#{pessoaBean.pessoa.nome}" required="true">
		 <f:validateLength minimum="4" maximum="20"/>
		</h:inputText>
		
        <h:outputLabel value="SOBRENOME"/>
		<h:inputText id="sobrenome" value="#{pessoaBean.pessoa.sobrenome}" required="true"></h:inputText>
		
		<h:outputLabel value="Data de Nascimento:"/>
		<h:inputText value="#{pessoaBean.pessoa.dataNascimento}" required="true">
		<f:convertDateTime pattern="dd/MM/yyyy" locale="pt_BR" timeZone="GMT-03:00"/>
		</h:inputText>
		
		<h:outputLabel value="IDADE"/>
		<h:inputText id="idade" value="#{pessoaBean.pessoa.idade}" required="true"
		  requiredMessage="Idade invalida, Informe a idade!" validatorMessage="Idade minima para se cadastrar é 18 anos">
		<f:validateLongRange minimum="18" maximum="999" />
		</h:inputText>
		
		<h:outputLabel value="CEP"/>
		<h:inputText value="#{pessoaBean.pessoa.cep}">
		<f:ajax event="blur" execute="@this" listener="#{pessoaBean.pesquisacep}"
		        render="logradouro complemento unidade bairro localidade uf estado regiao ibge gia ddd siafi"/>
		</h:inputText>
		
		<h:outputLabel value="LOGRADOURO"/>
		<h:inputText value="#{pessoaBean.pessoa.logradouro}" id="logradouro"/>
		
		<h:outputLabel value="COMPLEMENTO"/>
		<h:inputText value="#{pessoaBean.pessoa.complemento}" id="complemento"/>
		
		<h:outputLabel value="UNIDADE"/>
		<h:inputText value="#{pessoaBean.pessoa.unidade}" id="unidade"/>
		
		<h:outputLabel value="BAIRRO"/>
		<h:inputText value="#{pessoaBean.pessoa.bairro}" id="bairro"/>
		
		<h:outputLabel value="LOCALIDADE"/>
		<h:inputText value="#{pessoaBean.pessoa.localidade}" id="localidade"/>
		
		<h:outputLabel value="UF"/>
		<h:inputText value="#{pessoaBean.pessoa.uf}" id="uf"/>
		
		<h:outputLabel value="ESTADO"/>
		<h:inputText value="#{pessoaBean.pessoa.estado}" id="estado"/>
		
		<h:outputLabel value="REGIÂO"/>
		<h:inputText value="#{pessoaBean.pessoa.regiao}" id="regiao"/>
		
		<h:outputLabel value="IBGE"/>
		<h:inputText value="#{pessoaBean.pessoa.ibge}" id="ibge"/>
		
		<h:outputLabel value="GIA"/>
		<h:inputText value="#{pessoaBean.pessoa.gia}" id="gia"/>
		
		<h:outputLabel value="DDD"/>
		<h:inputText value="#{pessoaBean.pessoa.ddd}" id="ddd"/>
		
		<h:outputLabel value="SIAFI"/>
		<h:inputText value="#{pessoaBean.pessoa.siafi}" id="siafi"/>
		
		
		<h:outputLabel value="LOGIN"/>
		<h:inputText id="login" value="#{pessoaBean.pessoa.login}" required="true"></h:inputText>
		
		<h:outputLabel value="SENHA"/>
		<h:inputSecret id="senha" value="#{pessoaBean.pessoa.senha}" required="true"/>
		
		
		<h:outputLabel value="sexo"/>
		<h:selectOneMenu id="campoSexo" value="#{pessoaBean.pessoa.sexo}" required="true">
		<f:selectItem itemLabel="[-Selecione-]" noSelectionOption="true"/>
		 <f:selectItem itemValue="MASCULINO" itemLabel="Masculino"/>
		 <f:selectItem itemValue="FEMININO" itemLabel="Feminino"/>
		</h:selectOneMenu>
		
		<h:outputLabel value="Perfil" rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}"/>
		<h:selectOneMenu id="campoPerfil" value="#{pessoaBean.pessoa.perfilUser}" rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}">
		<f:selectItem itemLabel="[-Selecione-]" noSelectionOption="true"/>
		 <f:selectItem itemValue="DEV BACK-END" itemLabel="DEV BACK-END"/>
		 <f:selectItem itemValue="DEV FRONT-END" itemLabel="DEV FRONT-END"/>
		 <f:selectItem itemValue="ARQUITETO DE SISTEMA" itemLabel="ARQUITETO DE SISTEMA"/>
		 <f:selectItem itemValue="ENGENHEIRO DE SISTEMA" itemLabel="ENGENHEIRO DE SISTEMA"/>
		 <f:selectItem itemValue="ADMINISTRADOR" itemLabel="ADMINISTRADOR"/>
		</h:selectOneMenu>
		
		<h:outputLabel value="Frameworks:" rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}" required="true"/>
		<h:selectManyMenu id="campoFrameworks" style="height:150px; width:150px;" 
		 value="#{pessoaBean.pessoa.frameworks}" rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}">
		  <f:selectItem itemValue="Hibernate"/>
		  <f:selectItem itemValue="JSF"/>
		  <f:selectItem itemValue="Spring MVC"/>
		  <f:selectItem itemValue="JSP"/>
		  <f:selectItem itemValue="REACT"/>
		  <f:selectItem itemValue="Angula"/>
		  <f:selectItem itemValue="K8S"/>
		</h:selectManyMenu>
		
		<h:outputLabel value="Estados:"/>
		<h:selectOneMenu value="#{pessoaBean.pessoa.estados}" immediate="true">
		   <f:selectItem itemLabel="[Selecione]" noSelectionOption="true"/>
	       <f:selectItems value="#{pessoaBean.estados}"/>
	       <f:ajax event="change" execute="@this" render="comboCidades" listener="#{pessoaBean.carregaCidade}"/>
		</h:selectOneMenu>
		
		<h:outputLabel value="cidades:"/>
		<h:selectOneMenu value="#{pessoaBean.pessoa.cidades}" id="comboCidades">
		<f:selectItems value="#{pessoaBean.cidades}"/>
		</h:selectOneMenu>
		
		<h:outputLabel value="Nivel"/>
		<h:selectOneRadio value ="#{pessoaBean.pessoa.nivelProgramador}" required="true">
		  <f:selectItem itemValue="Junior" itemLabel="Junior"/>
		  <f:selectItem itemValue="Pleno" itemLabel="Pleno"/>
		  <f:selectItem itemValue="Senior" itemLabel="Senior"/>
		  <f:selectItem itemValue="Especialista" itemLabel="Especialista"/>
		</h:selectOneRadio>
		
		<h:outputLabel value="Linguagem"/>
		<h:selectManyCheckbox value="#{pessoaBean.pessoa.linguagem}">
		<f:selectItem itemValue="1" itemLabel="Java"/>  
		<f:selectItem itemValue="2" itemLabel="C"/>
		<f:selectItem itemValue="3" itemLabel="C#"/>
		<f:selectItem itemValue="4" itemLabel="Assembly"/>
		<f:selectItem itemValue="5" itemLabel="Smalltalk"/>
		<f:selectItem itemValue="6" itemLabel="Dart"/>
		</h:selectManyCheckbox>
		
		<h:outputLabel value="Ativo"/>
		<h:selectBooleanCheckbox value="#{pessoaBean.pessoa.ativo}"/>
		
		<h:outputLabel/>
		<h:panelGroup>
		<h:commandButton value="Novo" id="btnNovo" action="#{pessoaBean.novo}" image="resources/img/btnNovo.png" title="Novo">
		  <f:ajax execute="btnNovo" render="@form"/>
		</h:commandButton>
		<h:commandButton value="Salvar" action="#{pessoaBean.salvar}" image="resources/img/btnSalvar.png" title="Salvar"/>
		<h:commandButton value="Deletar" action="#{pessoaBean.deletar}" image="resources/img/btnDeletar.png" title="Excluir" rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}"/>
		<h:commandButton value="Limpar" id="btnLimpar" action="#{pessoaBean.limpar}" image="resources/img/btnLimpar.png" title="Limpar">
		  <f:ajax execute="btnLimpar" render="@form"/>
		</h:commandButton>
		</h:panelGroup>
		
		</h:panelGrid>
		
		</h:form>
		
		<h:form>
		<h:dataTable value="#{pessoaBean.pessoas}" var="pessoa" border="4">
		<f:facet name="header">
		   Lista de Pessoas Cadastradas
		</f:facet>
		
		<h:column>
		   <f:facet name="header">ID</f:facet>
		   <h:outputText value="#{pessoa.id}"></h:outputText>
		</h:column>
		<h:column>
		   <f:facet name="header">NOME</f:facet>
		   <h:outputText value="#{pessoa.nome}"></h:outputText>
		</h:column>
		<h:column>
		   <f:facet name="header">SOBRENOME</f:facet>
		   <h:outputText value="#{pessoa.sobrenome}"></h:outputText>
		</h:column>
		<h:column>
		   <f:facet name="header">IDADE</f:facet>
		   <h:outputText value="#{pessoa.idade}"></h:outputText>
		</h:column>
		<h:column>
		   <f:facet name="header">SEXO</f:facet>
		   <h:outputText value="#{pessoa.sexo}"></h:outputText>
		</h:column>
		<h:column rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}">
		   <f:facet name="header">FRAMEWORKS</f:facet>
		   <h:outputText value="#{pessoa.frameworks}"></h:outputText>
		</h:column>
		<h:column rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}">
		   <f:facet name="header">PERFIL</f:facet>
		   <h:outputText value="#{pessoa.perfilUser}"></h:outputText>
		</h:column>
		<h:column rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}">
		   <f:facet name="header">ATIVO</f:facet>
		   <h:outputText value="#{pessoa.ativo}"></h:outputText>
		</h:column>
		
		<h:column rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}">
		  <f:facet name="header">EDITAR</f:facet>
		  <h:commandLink title="Editar">
		     <f:setPropertyActionListener value="#{pessoa}" target="#{pessoaBean.pessoa}"/>
		     <h:graphicImage value="resources/img/btnEditar.png"/>
		  </h:commandLink>
		</h:column>
		<h:column rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}">
		  <f:facet name="header">DELETAR</f:facet>
		  <h:commandLink action="#{pessoaBean.deletar}" title="Excluir">
		     <f:setPropertyActionListener value="#{pessoa}" target="#{pessoaBean.pessoa}"/>
		     <h:graphicImage value="resources/img/btnDeletar.png"/>
		  </h:commandLink>
		</h:column>
		
		</h:dataTable>
		
	</h:form>

</h:body>

</html>